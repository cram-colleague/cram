<template name="List_Profile_Page">
  {{#If_Logged_In}}
    <div class="ui container">
      {{#if Template.subscriptionsReady}}
        <br />
      <h2 class="ui dividing header"><i class="users icon"></i>  List of Profiles</h2>
        <br />
      {{#if canShowP}}
       <div class="ui cards">
        {{#each profile in profileList}}
         <div class="card">
           <a class="image" href="{{pathFor 'Profile_Page' _id=profile._id }}">
             <img src="{{ profile.pic }}" alt="Image not found" onerror="this.onerror=null; this.src='/images/user.png';" style="height: 300px">
           </a>
           <div class="content">
             <a class="header" href="{{pathFor 'Profile_Page' _id=profile._id }}">{{profile.first}} {{profile.last}}</a>
             <div class="meta">
               {{profile.description}}
             </div>
           </div>
         </div>
        {{/each}}
       </div>
      {{else}}
        <h3 class="ui header centered">There is no profile created yet. Do you want to be first one to make it?</h3>
      <h3 class="ui header centered"> Let's create one ;)</h3>
      <br>
      <div class="ui one column centered grid">
        <button class="ui button" ><a class="{{ isActiveRoute 'Add_Profile_Page'}} item" href="{{ pathFor 'Add_Profile_Page' }}">Create Profile</a></button>
      </div>
      <!--<button class="ui button" ><a class="{{ isActiveRoute 'Add_Profile_Page'}} item" href="{{ pathFor 'Add_Profile_Page' }}">Create Profile</a></button>-->
      {{/if}}
      {{else}}
        {{> Loading}}
      {{/if}}
    </div>
  {{/If_Logged_In}}
</template>
